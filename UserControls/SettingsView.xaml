<UserControl x:Class="Minecraft_Server_Manager.UserControls.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" 
             Background="{DynamicResource PrimaryBrush}"
             d:DesignHeight="700" d:DesignWidth="800">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="30">
            <TextBlock Text="{DynamicResource Loc_GlobalSettings}" Foreground="White" FontSize="28" FontWeight="Bold" Margin="0,0,0,30"/>

            <Border Background="{DynamicResource SecondaryBrush}" CornerRadius="5" Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="{DynamicResource Loc_InstallFolder}" Foreground="White" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Text="{Binding DefaultPath}" IsReadOnly="True" Height="35" VerticalContentAlignment="Center" Padding="5" 
                                 Background="{DynamicResource PrimaryBrush}" Foreground="White" BorderThickness="0"/>
                        <Button Grid.Column="1" Content="..." Command="{Binding BrowseFolderCommand}" Width="40" Height="35" Margin="10,0,0,0" Background="#95a5a6" BorderThickness="0" Cursor="Hand"/>
                    </Grid>
                </StackPanel>
            </Border>

            <Border Background="{DynamicResource SecondaryBrush}" CornerRadius="5" Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="{DynamicResource Loc_DefaultServerConfig}" Foreground="White" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>
                    <TextBlock Text="{DynamicResource Loc_DefaultConfigDesc}" Foreground="#bdc3c7" FontSize="12" Margin="0,0,0,20"/>

                    <TextBlock Text="{DynamicResource Loc_RamAllocation}" Foreground="#bdc3c7" FontWeight="Bold" Margin="0,0,0,5"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Slider Grid.Column="0" Minimum="1" Maximum="{Binding MaxSystemRam}" TickFrequency="1" IsSnapToTickEnabled="True" 
                                Value="{Binding DefaultRam}" VerticalAlignment="Center"/>

                        <Border Grid.Column="1" Background="{DynamicResource PrimaryBrush}" CornerRadius="3" Padding="10,5" Margin="15,0,0,0" MinWidth="60">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock Text="{Binding DefaultRam}" Foreground="White" FontWeight="Bold" FontSize="16"/>
                                <TextBlock Text=" GB" Foreground="#bdc3c7" VerticalAlignment="Bottom" Margin="2,0,0,1"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <Border Background="{DynamicResource SecondaryBrush}" CornerRadius="5" Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="{DynamicResource Loc_Appearance}" Foreground="White" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>
                    <ComboBox ItemsSource="{Binding AvailableThemes}" SelectedItem="{Binding SelectedTheme}" Height="40" Width="250" HorizontalAlignment="Left">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Border Width="24" Height="24" CornerRadius="10" Background="{Binding PreviewBrush}" Margin="0,0,10,0" BorderBrush="White" BorderThickness="1"/>
                                    <TextBlock Text="{Binding Name}" VerticalAlignment="Center" Foreground="Black" FontSize="24"/>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </StackPanel>
            </Border>

            <Border Background="{DynamicResource SecondaryBrush}" CornerRadius="5" Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="{DynamicResource Loc_Language}" Foreground="White" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>
                    <ComboBox ItemsSource="{Binding AvailableLanguages}" 
          SelectedItem="{Binding SelectedLanguage}" 
          Height="40" Width="250" HorizontalAlignment="Left">

                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Image Source="{Binding FlagPath}" 
                                       Width="30" Height="22" 
                                       Margin="0,0,10,0" 
                                       VerticalAlignment="Center"
                                       RenderOptions.BitmapScalingMode="HighQuality"/>

                                    <TextBlock Text="{Binding Name}" 
                                       VerticalAlignment="Center"
                                       FontSize="24"
                                       Foreground="Black"/>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </StackPanel>
            </Border>

            <Border Background="{DynamicResource SecondaryBrush}" CornerRadius="5" Padding="20">
                <StackPanel>
                    <TextBlock Text="{DynamicResource Loc_Maintenance}" Foreground="White" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>
                    <TextBlock Text="{DynamicResource Loc_MaintenanceDesc}" Foreground="#bdc3c7" FontSize="12" Margin="0,0,0,15"/>

                    <Button Command="{Binding ClearCacheCommand}" Content="{DynamicResource Loc_ClearCache}" HorizontalAlignment="Left"
                            Background="#e67e22" Foreground="White" Padding="15,8" BorderThickness="0" Cursor="Hand"/>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>